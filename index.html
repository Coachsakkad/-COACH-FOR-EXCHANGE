<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÿ®ÿ±ŸÜÿßŸÖÿ¨ ÿßŸÑŸÉŸàÿ™ÿ¥ ŸÑŸÑÿµÿ±ÿßŸÅÿ©</title>
    <meta name="description" content="ÿ®ÿ±ŸÜÿßŸÖÿ¨ ÿßŸÑŸÉŸàÿ™ÿ¥ ŸÑŸÑÿµÿ±ÿßŸÅÿ© - ŸÜÿ∏ÿßŸÖ ŸÖÿ≠ÿßÿ≥ÿ®ÿ© Ÿàÿµÿ±ÿßŸÅÿ© ŸÖÿ™ŸÇÿØŸÖ ŸÑÿ•ÿØÿßÿ±ÿ© ÿßŸÑÿπŸÖŸÑŸäÿßÿ™ ÿßŸÑŸÖÿßŸÑŸäÿ© Ÿàÿ£ÿ≥ÿπÿßÿ± ÿßŸÑÿµÿ±ŸÅ">
    <meta name="keywords" content="ÿßŸÑŸÉŸàÿ™ÿ¥ ŸÑŸÑÿµÿ±ÿßŸÅÿ©, ŸÖÿ≠ÿßÿ≥ÿ®ÿ©, ÿµÿ±ÿßŸÅÿ©, ÿπŸÖŸÑÿßÿ™, ÿ•ÿØÿßÿ±ÿ© ŸÖÿßŸÑŸäÿ©, ÿ£ÿ≥ÿπÿßÿ± ÿµÿ±ŸÅ">
    <meta name="author" content="ÿ®ÿ±ŸÜÿßŸÖÿ¨ ÿßŸÑŸÉŸàÿ™ÿ¥ ŸÑŸÑÿµÿ±ÿßŸÅÿ©">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="ÿ®ÿ±ŸÜÿßŸÖÿ¨ ÿßŸÑŸÉŸàÿ™ÿ¥ ŸÑŸÑÿµÿ±ÿßŸÅÿ©">
    <meta property="og:description" content="ÿ®ÿ±ŸÜÿßŸÖÿ¨ ÿßŸÑŸÉŸàÿ™ÿ¥ ŸÑŸÑÿµÿ±ÿßŸÅÿ© - ÿ•ÿØÿßÿ±ÿ© ÿ¥ÿßŸÖŸÑÿ© ŸÑŸÑŸÖÿßŸÑ ŸàÿßŸÑÿπŸÖŸÑŸäÿßÿ™ ÿßŸÑÿ™ÿ¨ÿßÿ±Ÿäÿ© ŸÖÿπ ÿ£ÿ≥ÿπÿßÿ± ÿßŸÑÿµÿ±ŸÅ">
    <meta property="og:type" content="website">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2c3e50">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="ÿßŸÑŸÉŸàÿ™ÿ¥ ŸÑŸÑÿµÿ±ÿßŸÅÿ©">
    
    <!-- ŸÖŸÉÿ™ÿ®ÿ© SheetJS ŸÑÿ™ÿµÿØŸäÿ± Excel -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üè¶</text></svg>">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 10px;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(45deg, #2c3e50, #3498db);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 1.8em;
            margin-bottom: 5px;
        }

        .header p {
            font-size: 1em;
            opacity: 0.9;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #dee2e6;
            overflow-x: auto;
        }

        .tab {
            flex: 1;
            padding: 15px 10px;
            text-align: center;
            cursor: pointer;
            border: none;
            background: transparent;
            font-size: 0.9em;
            font-weight: bold;
            color: #495057;
            white-space: nowrap;
            min-width: 120px;
            transition: all 0.3s ease;
        }

        .tab.active {
            background: #007bff;
            color: white;
        }

        .tab:hover {
            background: #e9ecef;
        }

        .tab.active:hover {
            background: #0056b3;
        }

        .tab-content {
            display: none;
            padding: 20px;
            min-height: 400px;
        }

        .tab-content.active {
            display: block;
        }

        .tab-content h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #495057;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 3px rgba(0,123,255,0.1);
        }

        .form-group small {
            display: block;
            margin-top: 5px;
            color: #6c757d;
            font-size: 0.9em;
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-primary {
            background: #007bff;
            color: white;
        }

        .btn-primary:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #1e7e34;
            transform: translateY(-2px);
        }

        .btn-warning {
            background: #ffc107;
            color: #212529;
        }

        .btn-warning:hover {
            background: #e0a800;
            transform: translateY(-2px);
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-danger:hover {
            background: #c82333;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #545b62;
            transform: translateY(-2px);
        }

        .currency-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .currency-card {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            padding: 15px;
            transition: all 0.3s ease;
        }

        .currency-card:hover {
            border-color: #007bff;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .balance-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .balance-card {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .balance-card h3 {
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .balance-card .amount {
            font-size: 1.5em;
            font-weight: bold;
        }

        .operations-list {
            max-height: 500px;
            overflow-y: auto;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 10px;
        }

        .operation-item {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .operation-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .operation-type {
            font-weight: bold;
            font-size: 1.1em;
        }

        .operation-amount {
            color: #007bff;
            font-weight: bold;
        }

        .operation-details {
            color: #6c757d;
            font-size: 0.9em;
        }

        .flex-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }

        .flex-buttons .btn {
            flex: 1;
            min-width: 150px;
        }

        .alert {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-weight: bold;
        }

        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert-danger {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .alert-warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .alert-info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        .info-box {
            background: #e9ecef;
            border-left: 4px solid #007bff;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }

        .info-box h3 {
            margin-bottom: 10px;
            color: #495057;
        }

        .info-box ul {
            margin-right: 20px;
        }

        .info-box li {
            margin-bottom: 5px;
            color: #6c757d;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .stat-card h4 {
            color: #495057;
            margin-bottom: 10px;
        }

        .stat-card .value {
            font-size: 1.8em;
            font-weight: bold;
            color: #007bff;
        }

        .footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 20px;
            margin-top: 20px;
        }

        .footer p {
            margin: 5px 0;
            opacity: 0.8;
        }

        /* ÿ™ŸÜÿ≥ŸäŸÇÿßÿ™ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ */
        .notification-item {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .notification-item.success {
            border-left: 4px solid #28a745;
        }

        .notification-item.error {
            border-left: 4px solid #dc3545;
        }

        .notification-item.warning {
            border-left: 4px solid #ffc107;
        }

        .notification-item.info {
            border-left: 4px solid #17a2b8;
        }

        .notification-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .notification-icon {
            font-size: 1.2em;
        }

        .notification-time {
            font-size: 0.8em;
            color: #6c757d;
        }

        .notification-message {
            color: #495057;
            line-height: 1.4;
        }

        .notifications-list {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 10px;
            background: #f8f9fa;
        }

        /* ÿ™ŸÜÿ≥ŸäŸÇÿßÿ™ ÿßŸÑÿ¢ŸÑÿ© ÿßŸÑÿ≠ÿßÿ≥ÿ®ÿ© */
        .calculator-container {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .result-box {
            background: #e9ecef;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            border-left: 4px solid #007bff;
        }

        .calculation-step {
            margin-bottom: 10px;
            padding: 8px;
            background: white;
            border-radius: 5px;
        }

        .calculation-result {
            padding: 10px;
            background: #d4edda;
            border-radius: 5px;
            font-size: 1.1em;
            color: #155724;
        }

        /* ÿ™ŸÜÿ≥ŸäŸÇÿßÿ™ ÿ£ÿ≥ÿπÿßÿ± ÿßŸÑÿµÿ±ŸÅ */
        .currency-row {
            padding: 10px;
            margin: 5px 0;
            background: white;
            border-radius: 5px;
            border-left: 3px solid #007bff;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .container {
                margin: 5px;
                border-radius: 10px;
            }

            .header {
                padding: 15px;
            }

            .header h1 {
                font-size: 1.5em;
            }

            .tab {
                padding: 10px 5px;
                font-size: 0.8em;
                min-width: 80px;
            }

            .tab-content {
                padding: 15px;
            }

            .currency-grid {
                grid-template-columns: 1fr;
            }

            .balance-summary {
                grid-template-columns: repeat(2, 1fr);
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .operation-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .operation-amount {
                margin-top: 5px;
            }

            .flex-buttons {
                flex-direction: column;
            }

            .flex-buttons .btn {
                width: 100%;
                margin-bottom: 10px;
            }
        }

        /* ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ÿ•ÿ∂ÿßŸÅŸäÿ© ŸÑŸÑÿ™ŸÅÿßÿπŸÑ */
        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .shake {
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: #6c757d;
        }

        .loading::after {
            content: '...';
            animation: dots 1.5s steps(5, end) infinite;
        }

        @keyframes dots {
            0%, 20% { color: rgba(0,0,0,0); text-shadow: .25em 0 0 rgba(0,0,0,0), .5em 0 0 rgba(0,0,0,0); }
            40% { color: #6c757d; text-shadow: .25em 0 0 rgba(0,0,0,0), .5em 0 0 rgba(0,0,0,0); }
            60% { text-shadow: .25em 0 0 #6c757d, .5em 0 0 rgba(0,0,0,0); }
            80%, 100% { text-shadow: .25em 0 0 #6c757d, .5em 0 0 #6c757d; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè¶ ÿ®ÿ±ŸÜÿßŸÖÿ¨ ÿßŸÑŸÉŸàÿ™ÿ¥ ŸÑŸÑÿµÿ±ÿßŸÅÿ©</h1>
            <p>ÿ•ÿØÿßÿ±ÿ© ÿ¥ÿßŸÖŸÑÿ© ŸÑŸÑŸÖÿßŸÑ ŸàÿßŸÑÿπŸÖŸÑŸäÿßÿ™ ÿßŸÑÿ™ÿ¨ÿßÿ±Ÿäÿ© ŸÖÿπ ÿ£ÿ≥ÿπÿßÿ± ÿßŸÑÿµÿ±ŸÅ</p>
            <p style="font-size: 0.9em; margin-top: 5px;">üìû ŸÑŸÑÿ™ŸàÿßÿµŸÑ: +963-0992223739</p>
            <p style="font-size: 0.9em; margin-top: 5px;">üìç ÿßŸÑÿπŸÜŸàÿßŸÜ: ÿØŸÖÿ¥ŸÇ - ÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÖÿ≠ÿßŸÅÿ∏ÿ©</p>
            <p style="font-size: 0.9em; margin-top: 5px;">üöö ÿÆÿØŸÖÿ© ÿ™ŸàÿµŸäŸÑ ÿ∂ŸÖŸÜ ÿØŸÖÿ¥ŸÇ ŸÖÿ£ÿ¨Ÿàÿ±ÿ©</p>
            <p style="font-size: 0.9em; margin-top: 5px;">üí¨ Ÿàÿßÿ™ÿ≥ÿßÿ®: +963-0992223739</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('capital')">üí∞ ÿ±ÿ£ÿ≥ ÿßŸÑŸÖÿßŸÑ</button>
            <button class="tab" onclick="showTab('operations')">üìä ÿßŸÑÿπŸÖŸÑŸäÿßÿ™</button>
            <button class="tab" onclick="showTab('add-operation')">‚ûï ÿ•ÿ∂ÿßŸÅÿ© ÿπŸÖŸÑŸäÿ©</button>
            <button class="tab" onclick="showTab('summary')">üìã ÿßŸÑŸÖŸÑÿÆÿµ</button>
            <button class="tab" onclick="showTab('exchange-rates')">üí± ÿ£ÿ≥ÿπÿßÿ± ÿßŸÑÿµÿ±ŸÅ</button>
            <button class="tab" onclick="showTab('calculator')">üßÆ ÿ¢ŸÑÿ© ÿ≠ÿßÿ≥ÿ®ÿ©</button>
            <button class="tab" onclick="showTab('notifications')">üîî ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™</button>
            <button class="tab" onclick="showTab('whatsapp-settings')">üì± ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ®</button>
        </div>

        <!-- ÿ™ÿ®ŸàŸäÿ® ÿ±ÿ£ÿ≥ ÿßŸÑŸÖÿßŸÑ -->
        <div id="capital" class="tab-content active">
            <h2>üèõÔ∏è ÿ•ÿπÿØÿßÿØ ÿ±ÿ£ÿ≥ ÿßŸÑŸÖÿßŸÑ ÿßŸÑÿßÿ®ÿ™ÿØÿßÿ¶Ÿä</h2>
            
            <div class="currency-grid">
                <div class="currency-card">
                    <label for="capital-syr">üá∏üáæ ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ≥Ÿàÿ±Ÿäÿ© (SYR)</label>
                    <input type="number" id="capital-syr" placeholder="0" step="0.01">
                </div>
                
                <div class="currency-card">
                    <label for="capital-usd">üíµ ÿßŸÑÿØŸàŸÑÿßÿ± ÿßŸÑÿ£ŸÖÿ±ŸäŸÉŸä (USD)</label>
                    <input type="number" id="capital-usd" placeholder="0" step="0.01">
                </div>
                
                <div class="currency-card">
                    <label for="capital-jod">üáØüá¥ ÿßŸÑÿØŸäŸÜÿßÿ± ÿßŸÑÿ£ÿ±ÿØŸÜŸä (JOD)</label>
                    <input type="number" id="capital-jod" placeholder="0" step="0.01">
                </div>
                
                <div class="currency-card">
                    <label for="capital-try">üáπüá∑ ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ™ÿ±ŸÉŸäÿ© (TRY)</label>
                    <input type="number" id="capital-try" placeholder="0" step="0.01">
                </div>
                
                <div class="currency-card">
                    <label for="capital-kwd">üá∞üáº ÿßŸÑÿØŸäŸÜÿßÿ± ÿßŸÑŸÉŸàŸäÿ™Ÿä (KWD)</label>
                    <input type="number" id="capital-kwd" placeholder="0" step="0.01">
                </div>
                
                <div class="currency-card">
                    <label for="capital-eur">üá™üá∫ ÿßŸÑŸäŸàÿ±Ÿà (EUR)</label>
                    <input type="number" id="capital-eur" placeholder="0" step="0.01">
                </div>
                
                <div class="currency-card">
                    <label for="capital-sar">üá∏üá¶ ÿßŸÑÿ±ŸäÿßŸÑ ÿßŸÑÿ≥ÿπŸàÿØŸä (SAR)</label>
                    <input type="number" id="capital-sar" placeholder="0" step="0.01">
                </div>
                
                <div class="currency-card">
                    <label for="capital-aed">üá¶üá™ ÿßŸÑÿØÿ±ŸáŸÖ ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™Ÿä (AED)</label>
                    <input type="number" id="capital-aed" placeholder="0" step="0.01">
                </div>
            </div>

            <div class="flex-buttons">
                <button class="btn btn-success" onclick="saveCapital()">üíæ ÿ≠ŸÅÿ∏ ÿ±ÿ£ÿ≥ ÿßŸÑŸÖÿßŸÑ</button>
                <button class="btn btn-warning" onclick="resetCapital()">üîÑ ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ</button>
            </div>
            
            <div id="capital-message"></div>
        </div>

        <!-- ÿ™ÿ®ŸàŸäÿ® ÿßŸÑÿπŸÖŸÑŸäÿßÿ™ -->
        <div id="operations" class="tab-content">
            <h2>üìã ÿ≥ÿ¨ŸÑ ÿßŸÑÿπŸÖŸÑŸäÿßÿ™</h2>
            
            <div class="flex-buttons">
                <button class="btn" onclick="loadOperations()">üîÑ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÇÿßÿ¶ŸÖÿ©</button>
                <button class="btn btn-danger" onclick="clearAllOperations()">üóëÔ∏è ŸÖÿ≥ÿ≠ ÿßŸÑŸÉŸÑ</button>
                <button class="btn btn-success" onclick="exportToExcel()">üìä ÿ™ÿµÿØŸäÿ± ÿ•ŸÑŸâ Excel</button>
            </div>

            <div id="operations-list" class="operations-list">
                <div class="loading">
                    ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿπŸÖŸÑŸäÿßÿ™...
                </div>
            </div>
        </div>

        <!-- ÿ™ÿ®ŸàŸäÿ® ÿ•ÿ∂ÿßŸÅÿ© ÿπŸÖŸÑŸäÿ© -->
        <div id="add-operation" class="tab-content">
            <h2>‚ûï ÿ•ÿ∂ÿßŸÅÿ© ÿπŸÖŸÑŸäÿ© ÿ¨ÿØŸäÿØÿ©</h2>
            
            <form id="operation-form">
                <div class="form-group">
                    <label for="operation-type">ŸÜŸàÿπ ÿßŸÑÿπŸÖŸÑŸäÿ©:</label>
                    <select id="operation-type" required onchange="updateExchangeRateSection()">
                        <option value="">ÿßÿÆÿ™ÿ± ŸÜŸàÿπ ÿßŸÑÿπŸÖŸÑŸäÿ©</option>
                        <option value="ÿ¥ÿ±ÿßÿ°">üõçÔ∏è ÿ¥ÿ±ÿßÿ° ÿπŸÖŸÑÿ©</option>
                        <option value="ÿ®Ÿäÿπ">üõí ÿ®Ÿäÿπ ÿπŸÖŸÑÿ©</option>
                        <option value="ŸÖÿµÿ±ŸàŸÅ">üí∏ ŸÖÿµÿ±ŸàŸÅ</option>
                        <option value="ŸÇÿ®ÿ∂">üí∞ ŸÇÿ®ÿ∂ ŸÖÿ®ŸÑÿ∫</option>
                        <option value="ÿØŸÅÿπ">üí≥ ÿØŸÅÿπ ŸÖÿ®ŸÑÿ∫</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="operation-currency">ÿßŸÑÿπŸÖŸÑÿ©:</label>
                    <select id="operation-currency" required>
                        <option value="">ÿßÿÆÿ™ÿ± ÿßŸÑÿπŸÖŸÑÿ©</option>
                        <option value="USD">üíµ ÿØŸàŸÑÿßÿ± ÿ£ŸÖÿ±ŸäŸÉŸä (USD)</option>
                        <option value="JOD">üáØüá¥ ÿØŸäŸÜÿßÿ± ÿ£ÿ±ÿØŸÜŸä (JOD)</option>
                        <option value="TRY">üáπüá∑ ŸÑŸäÿ±ÿ© ÿ™ÿ±ŸÉŸäÿ© (TRY)</option>
                        <option value="KWD">üá∞üáº ÿØŸäŸÜÿßÿ± ŸÉŸàŸäÿ™Ÿä (KWD)</option>
                        <option value="EUR">üá™üá∫ ŸäŸàÿ±Ÿà (EUR)</option>
                        <option value="SAR">üá∏üá¶ ÿ±ŸäÿßŸÑ ÿ≥ÿπŸàÿØŸä (SAR)</option>
                        <option value="AED">üá¶üá™ ÿØÿ±ŸáŸÖ ÿ•ŸÖÿßÿ±ÿßÿ™Ÿä (AED)</option>
                        <option value="SYR">üá∏üáæ ŸÑŸäÿ±ÿ© ÿ≥Ÿàÿ±Ÿäÿ© (SYR)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="operation-amount">ÿßŸÑŸÉŸÖŸäÿ©:</label>
                    <input type="number" id="operation-amount" placeholder="0" step="0.01" required>
                </div>

                <div id="exchange-rate-section" class="form-group" style="display: none;">
                    <label for="exchange-rate">ÿ≥ÿπÿ± ÿßŸÑÿµÿ±ŸÅ (ÿ®ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ≥Ÿàÿ±Ÿäÿ©):</label>
                    <input type="number" id="exchange-rate" placeholder="0" step="0.01">
                    <small>ÿ≥ÿπÿ± ÿßŸÑŸàÿ≠ÿØÿ© ÿßŸÑŸàÿßÿ≠ÿØÿ© ŸÖŸÜ ÿßŸÑÿπŸÖŸÑÿ© ÿßŸÑŸÖÿÆÿ™ÿßÿ±ÿ© ÿ®ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ≥Ÿàÿ±Ÿäÿ©</small>
                </div>

                <div class="form-group">
                    <label for="operation-description">ÿßŸÑŸàÿµŸÅ:</label>
                    <input type="text" id="operation-description" placeholder="ŸàÿµŸÅ ÿßŸÑÿπŸÖŸÑŸäÿ©" required>
                </div>

                <div class="form-group">
                    <label for="operation-notes">ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™ (ÿßÿÆÿ™Ÿäÿßÿ±Ÿä):</label>
                    <textarea id="operation-notes" placeholder="ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™ ÿ•ÿ∂ÿßŸÅŸäÿ©" rows="3"></textarea>
                </div>

                <div class="form-group">
                    <label for="operation-date">ÿßŸÑÿ™ÿßÿ±ŸäÿÆ:</label>
                    <input type="date" id="operation-date" required>
                </div>

                <div class="flex-buttons">
                    <button type="submit" class="btn btn-success">‚úÖ ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑÿπŸÖŸÑŸäÿ©</button>
                    <button type="reset" class="btn btn-secondary">üîÑ ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ</button>
                </div>
            </form>

            <div id="operation-message"></div>
        </div>

        <!-- ÿ™ÿ®ŸàŸäÿ® ÿßŸÑŸÖŸÑÿÆÿµ -->
        <div id="summary" class="tab-content">
            <h2>üìä ŸÖŸÑÿÆÿµ ÿßŸÑÿ≠ÿ≥ÿßÿ®ÿßÿ™</h2>
            
            <div class="balance-summary">
                <div class="balance-card">
                    <h3>üá∏üáæ ÿ±ÿµŸäÿØ ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ≥Ÿàÿ±Ÿäÿ©</h3>
                    <div class="amount" id="balance-syr">0</div>
                </div>
                
                <div class="balance-card">
                    <h3>üíµ ÿ±ÿµŸäÿØ ÿßŸÑÿØŸàŸÑÿßÿ± ÿßŸÑÿ£ŸÖÿ±ŸäŸÉŸä</h3>
                    <div class="amount" id="balance-usd">0</div>
                </div>
                
                <div class="balance-card">
                    <h3>üáØüá¥ ÿ±ÿµŸäÿØ ÿßŸÑÿØŸäŸÜÿßÿ± ÿßŸÑÿ£ÿ±ÿØŸÜŸä</h3>
                    <div class="amount" id="balance-jod">0</div>
                </div>
                
                <div class="balance-card">
                    <h3>üáπüá∑ ÿ±ÿµŸäÿØ ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ™ÿ±ŸÉŸäÿ©</h3>
                    <div class="amount" id="balance-try">0</div>
                </div>
                
                <div class="balance-card">
                    <h3>üá∞üáº ÿ±ÿµŸäÿØ ÿßŸÑÿØŸäŸÜÿßÿ± ÿßŸÑŸÉŸàŸäÿ™Ÿä</h3>
                    <div class="amount" id="balance-kwd">0</div>
                </div>
                
                <div class="balance-card">
                    <h3>üá™üá∫ ÿ±ÿµŸäÿØ ÿßŸÑŸäŸàÿ±Ÿà</h3>
                    <div class="amount" id="balance-eur">0</div>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <h4>üìà ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿπŸÖŸÑŸäÿßÿ™</h4>
                    <div class="value" id="total-operations">0</div>
                </div>
                
                <div class="stat-card">
                    <h4>üõçÔ∏è ÿπŸÖŸÑŸäÿßÿ™ ÿßŸÑÿ¥ÿ±ÿßÿ°</h4>
                    <div class="value" id="buy-operations">0</div>
                </div>
                
                <div class="stat-card">
                    <h4>üõí ÿπŸÖŸÑŸäÿßÿ™ ÿßŸÑÿ®Ÿäÿπ</h4>
                    <div class="value" id="sell-operations">0</div>
                </div>
                
                <div class="stat-card">
                    <h4>üí∏ ÿßŸÑŸÖÿµÿ±ŸàŸÅÿßÿ™</h4>
                    <div class="value" id="expense-operations">0</div>
                </div>
            </div>

            <div id="summary-message"></div>
        </div>

        <!-- ÿ™ÿ®ŸàŸäÿ® ÿ£ÿ≥ÿπÿßÿ± ÿßŸÑÿµÿ±ŸÅ -->
        <div id="exchange-rates" class="tab-content">
            <h2>üí± ÿ£ÿ≥ÿπÿßÿ± ÿßŸÑÿµÿ±ŸÅ ÿßŸÑÿ≠ÿßŸÑŸäÿ©</h2>
            
            <div class="form-group">
                <label for="usd-rate">üíµ ÿ≥ÿπÿ± ÿßŸÑÿØŸàŸÑÿßÿ± ÿßŸÑÿ£ŸÖÿ±ŸäŸÉŸä (USD)</label>
                <input type="number" id="usd-rate" placeholder="15000" step="0.01">
                <small>ÿ≥ÿπÿ± ÿ¥ÿ±ÿßÿ° ÿßŸÑÿØŸàŸÑÿßÿ± ÿ®ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ≥Ÿàÿ±Ÿäÿ©</small>
            </div>

            <div class="form-group">
                <label for="jod-rate">üáØüá¥ ÿ≥ÿπÿ± ÿßŸÑÿØŸäŸÜÿßÿ± ÿßŸÑÿ£ÿ±ÿØŸÜŸä (JOD)</label>
                <input type="number" id="jod-rate" placeholder="21000" step="0.01">
                <small>ÿ≥ÿπÿ± ÿ¥ÿ±ÿßÿ° ÿßŸÑÿØŸäŸÜÿßÿ± ÿßŸÑÿ£ÿ±ÿØŸÜŸä ÿ®ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ≥Ÿàÿ±Ÿäÿ©</small>
            </div>

            <div class="form-group">
                <label for="try-rate">üáπüá∑ ÿ≥ÿπÿ± ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ™ÿ±ŸÉŸäÿ© (TRY)</label>
                <input type="number" id="try-rate" placeholder="500" step="0.01">
                <small>ÿ≥ÿπÿ± ÿ¥ÿ±ÿßÿ° ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ™ÿ±ŸÉŸäÿ© ÿ®ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ≥Ÿàÿ±Ÿäÿ©</small>
            </div>

            <div class="form-group">
                <label for="kwd-rate">üá∞üáº ÿ≥ÿπÿ± ÿßŸÑÿØŸäŸÜÿßÿ± ÿßŸÑŸÉŸàŸäÿ™Ÿä (KWD)</label>
                <input type="number" id="kwd-rate" placeholder="48000" step="0.01">
                <small>ÿ≥ÿπÿ± ÿ¥ÿ±ÿßÿ° ÿßŸÑÿØŸäŸÜÿßÿ± ÿßŸÑŸÉŸàŸäÿ™Ÿä ÿ®ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ≥Ÿàÿ±Ÿäÿ©</small>
            </div>

            <div class="form-group">
                <label for="eur-rate">üá™üá∫ ÿ≥ÿπÿ± ÿßŸÑŸäŸàÿ±Ÿà (EUR)</label>
                <input type="number" id="eur-rate" placeholder="16000" step="0.01">
                <small>ÿ≥ÿπÿ± ÿ¥ÿ±ÿßÿ° ÿßŸÑŸäŸàÿ±Ÿà ÿ®ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ≥Ÿàÿ±Ÿäÿ©</small>
            </div>

            <div class="form-group">
                <label for="sar-rate">üá∏üá¶ ÿ≥ÿπÿ± ÿßŸÑÿ±ŸäÿßŸÑ ÿßŸÑÿ≥ÿπŸàÿØŸä (SAR)</label>
                <input type="number" id="sar-rate" placeholder="4000" step="0.01">
                <small>ÿ≥ÿπÿ± ÿ¥ÿ±ÿßÿ° ÿßŸÑÿ±ŸäÿßŸÑ ÿßŸÑÿ≥ÿπŸàÿØŸä ÿ®ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ≥Ÿàÿ±Ÿäÿ©</small>
            </div>

            <div class="form-group">
                <label for="aed-rate">üá¶üá™ ÿ≥ÿπÿ± ÿßŸÑÿØÿ±ŸáŸÖ ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™Ÿä (AED)</label>
                <input type="number" id="aed-rate" placeholder="4100" step="0.01">
                <small>ÿ≥ÿπÿ± ÿ¥ÿ±ÿßÿ° ÿßŸÑÿØÿ±ŸáŸÖ ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™Ÿä ÿ®ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ≥Ÿàÿ±Ÿäÿ©</small>
            </div>

            <div class="form-group">
                <button type="button" class="btn btn-success" onclick="saveExchangeRates()">üíæ ÿ≠ŸÅÿ∏ ÿ£ÿ≥ÿπÿßÿ± ÿßŸÑÿµÿ±ŸÅ</button>
                <button type="button" class="btn btn-secondary" onclick="resetExchangeRates()">üîÑ ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ</button>
            </div>

            <div class="info-box">
                <h3>üìä ŸÖÿπÿßÿØŸÑ ÿßŸÑÿπŸÖŸÑÿßÿ™ ÿ®ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ≥Ÿàÿ±Ÿäÿ©:</h3>
                <div id="currency-equivalents">
                    <div class="currency-row">
                        <span>üíµ 1 ÿØŸàŸÑÿßÿ± ÿ£ŸÖÿ±ŸäŸÉŸä = <span id="usd-equivalent">0</span> ŸÑŸäÿ±ÿ© ÿ≥Ÿàÿ±Ÿäÿ©</span>
                    </div>
                    <div class="currency-row">
                        <span>üáØüá¥ 1 ÿØŸäŸÜÿßÿ± ÿ£ÿ±ÿØŸÜŸä = <span id="jod-equivalent">0</span> ŸÑŸäÿ±ÿ© ÿ≥Ÿàÿ±Ÿäÿ©</span>
                    </div>
                    <div class="currency-row">
                        <span>üáπüá∑ 1 ŸÑŸäÿ±ÿ© ÿ™ÿ±ŸÉŸäÿ© = <span id="try-equivalent">0</span> ŸÑŸäÿ±ÿ© ÿ≥Ÿàÿ±Ÿäÿ©</span>
                    </div>
                    <div class="currency-row">
                        <span>üá∞üáº 1 ÿØŸäŸÜÿßÿ± ŸÉŸàŸäÿ™Ÿä = <span id="kwd-equivalent">0</span> ŸÑŸäÿ±ÿ© ÿ≥Ÿàÿ±Ÿäÿ©</span>
                    </div>
                    <div class="currency-row">
                        <span>üá™üá∫ 1 ŸäŸàÿ±Ÿà = <span id="eur-equivalent">0</span> ŸÑŸäÿ±ÿ© ÿ≥Ÿàÿ±Ÿäÿ©</span>
                    </div>
                    <div class="currency-row">
                        <span>üá∏üá¶ 1 ÿ±ŸäÿßŸÑ ÿ≥ÿπŸàÿØŸä = <span id="sar-equivalent">0</span> ŸÑŸäÿ±ÿ© ÿ≥Ÿàÿ±Ÿäÿ©</span>
                    </div>
                    <div class="currency-row">
                        <span>üá¶üá™ 1 ÿØÿ±ŸáŸÖ ÿ•ŸÖÿßÿ±ÿßÿ™Ÿä = <span id="aed-equivalent">0</span> ŸÑŸäÿ±ÿ© ÿ≥Ÿàÿ±Ÿäÿ©</span>
                    </div>
                </div>
            </div>

            <div id="exchange-rates-message"></div>
        </div>

        <!-- ÿ™ÿ®ŸàŸäÿ® ÿßŸÑÿ¢ŸÑÿ© ÿßŸÑÿ≠ÿßÿ≥ÿ®ÿ© -->
        <div id="calculator" class="tab-content">
            <h2>üßÆ ÿ¢ŸÑÿ© ÿ≠ÿßÿ≥ÿ®ÿ© ÿßŸÑÿπŸÖŸÑÿßÿ™</h2>
            
            <div class="calculator-container">
                <div class="form-group">
                    <label for="calc-amount">üí∞ ÿßŸÑŸÖÿ®ŸÑÿ∫</label>
                    <input type="number" id="calc-amount" placeholder="100" step="0.01">
                </div>

                <div class="form-group">
                    <label for="calc-from-currency">ŸÖŸÜ ÿßŸÑÿπŸÖŸÑÿ©</label>
                    <select id="calc-from-currency">
                        <option value="SYR">üá∏üáæ ŸÑŸäÿ±ÿ© ÿ≥Ÿàÿ±Ÿäÿ© (SYR)</option>
                        <option value="USD">üíµ ÿØŸàŸÑÿßÿ± ÿ£ŸÖÿ±ŸäŸÉŸä (USD)</option>
                        <option value="JOD">üáØüá¥ ÿØŸäŸÜÿßÿ± ÿ£ÿ±ÿØŸÜŸä (JOD)</option>
                        <option value="TRY">üáπüá∑ ŸÑŸäÿ±ÿ© ÿ™ÿ±ŸÉŸäÿ© (TRY)</option>
                        <option value="KWD">üá∞üáº ÿØŸäŸÜÿßÿ± ŸÉŸàŸäÿ™Ÿä (KWD)</option>
                        <option value="EUR">üá™üá∫ ŸäŸàÿ±Ÿà (EUR)</option>
                        <option value="SAR">üá∏üá¶ ÿ±ŸäÿßŸÑ ÿ≥ÿπŸàÿØŸä (SAR)</option>
                        <option value="AED">üá¶üá™ ÿØÿ±ŸáŸÖ ÿ•ŸÖÿßÿ±ÿßÿ™Ÿä (AED)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="calc-to-currency">ÿ•ŸÑŸâ ÿßŸÑÿπŸÖŸÑÿ©</label>
                    <select id="calc-to-currency">
                        <option value="SYR">üá∏üáæ ŸÑŸäÿ±ÿ© ÿ≥Ÿàÿ±Ÿäÿ© (SYR)</option>
                        <option value="USD">üíµ ÿØŸàŸÑÿßÿ± ÿ£ŸÖÿ±ŸäŸÉŸä (USD)</option>
                        <option value="JOD">üáØüá¥ ÿØŸäŸÜÿßÿ± ÿ£ÿ±ÿØŸÜŸä (JOD)</option>
                        <option value="TRY">üáπüá∑ ŸÑŸäÿ±ÿ© ÿ™ÿ±ŸÉŸäÿ© (TRY)</option>
                        <option value="KWD">üá∞üáº ÿØŸäŸÜÿßÿ± ŸÉŸàŸäÿ™Ÿä (KWD)</option>
                        <option value="EUR">üá™üá∫ ŸäŸàÿ±Ÿà (EUR)</option>
                        <option value="SAR">üá∏üá¶ ÿ±ŸäÿßŸÑ ÿ≥ÿπŸàÿØŸä (SAR)</option>
                        <option value="AED">üá¶üá™ ÿØÿ±ŸáŸÖ ÿ•ŸÖÿßÿ±ÿßÿ™Ÿä (AED)</option>
                    </select>
                </div>

                <div class="form-group">
                    <button type="button" class="btn btn-primary" onclick="calculateCurrency()">üîÑ ÿ™ÿ≠ŸàŸäŸÑ</button>
                    <button type="button" class="btn btn-secondary" onclick="clearCalculator()">üóëÔ∏è ŸÖÿ≥ÿ≠</button>
                </div>

                <div id="calculation-result" class="result-box" style="display: none;">
                    <h3>üìä ŸÜÿ™Ÿäÿ¨ÿ© ÿßŸÑÿ™ÿ≠ŸàŸäŸÑ:</h3>
                    <div id="conversion-details"></div>
                </div>
            </div>

            <div id="calculator-message"></div>
        </div>

        <!-- ÿ™ÿ®ŸàŸäÿ® ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ -->
        <div id="notifications" class="tab-content">
            <h2>üîî ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™</h2>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" id="notifications-enabled" checked>
                    ÿ™ŸÅÿπŸäŸÑ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿßŸÑÿØÿßÿÆŸÑŸäÿ©
                </label>
                <small>ÿπÿ±ÿ∂ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿØÿßÿÆŸÑ ÿßŸÑÿ®ÿ±ŸÜÿßŸÖÿ¨ ÿπŸÜÿØ ÿ•ÿ¨ÿ±ÿßÿ° ÿßŸÑÿπŸÖŸÑŸäÿßÿ™</small>
            </div>

            <div class="form-group">
                <label>
                    <input type="checkbox" id="auto-send-whatsapp" checked>
                    ÿ•ÿ±ÿ≥ÿßŸÑ ÿ™ŸÑŸÇÿßÿ¶Ÿä ŸÑŸÑŸàÿßÿ™ÿ≥ÿßÿ®
                </label>
                <small>ŸÅÿ™ÿ≠ ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ® ÿ™ŸÑŸÇÿßÿ¶ŸäÿßŸã ŸÖÿπ ÿßŸÑÿ±ÿ≥ÿßŸÑÿ© ÿπŸÜÿØ ÿ•ÿ¨ÿ±ÿßÿ° ÿßŸÑÿπŸÖŸÑŸäÿßÿ™</small>
            </div>

            <div class="form-group">
                <button type="button" class="btn btn-success" onclick="saveNotificationSettings()">üíæ ÿ≠ŸÅÿ∏ ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™</button>
                <button type="button" class="btn btn-secondary" onclick="clearAllNotifications()">üóëÔ∏è ŸÖÿ≥ÿ≠ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™</button>
            </div>

            <div class="notifications-list">
                <h3>üìã ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿßŸÑÿ≠ÿØŸäÿ´ÿ©:</h3>
                <div id="notifications-container">
                    <div class="notification-item">
                        <div style="text-align: center; color: #6c757d; padding: 20px;">
                            ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿ®ÿπÿØ
                        </div>
                    </div>
                </div>
            </div>

            <div id="notifications-message"></div>
        </div>

        <!-- ÿ™ÿ®ŸàŸäÿ® ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ® -->
        <div id="whatsapp-settings" class="tab-content">
            <h2>üì± ÿ•ÿπÿØÿßÿØÿßÿ™ ÿ™ŸÜÿ®ŸäŸáÿßÿ™ ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ®</h2>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" id="whatsapp-enabled" checked>
                    ÿ™ŸÅÿπŸäŸÑ ÿ™ŸÜÿ®ŸäŸáÿßÿ™ ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ®
                </label>
                <small>ÿπŸÜÿØ ÿßŸÑÿ™ŸÅÿπŸäŸÑÿå ÿ≥Ÿäÿ™ŸÖ ŸÅÿ™ÿ≠ ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ® ÿ™ŸÑŸÇÿßÿ¶ŸäÿßŸã ŸÖÿπ ÿ±ÿ≥ÿßŸÑÿ© ÿ¨ÿßŸáÿ≤ÿ© ÿπŸÜÿØ ÿ•ÿ∂ÿßŸÅÿ© ÿ£Ÿä ÿπŸÖŸÑŸäÿ©</small>
            </div>

            <div class="form-group">
                <label for="whatsapp-phone">üìû ÿ±ŸÇŸÖ ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ® (ÿ®ÿØŸàŸÜ ÿπŸÑÿßŸÖÿ© +)</label>
                <input type="text" id="whatsapp-phone" value="9630992223739" placeholder="9630992223739">
                <small>ÿ£ÿØÿÆŸÑ ÿ±ŸÇŸÖ ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ® ÿ®ÿßŸÑÿ™ŸÜÿ≥ŸäŸÇ ÿßŸÑÿØŸàŸÑŸä ÿ®ÿØŸàŸÜ ÿπŸÑÿßŸÖÿ© + (ŸÖÿ´ÿßŸÑ: 9630992223739)</small>
            </div>

            <div class="form-group">
                <label for="whatsapp-name">üè™ ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≠ŸÑ/ÿßŸÑÿ¥ÿ±ŸÉÿ©</label>
                <input type="text" id="whatsapp-name" value="ÿ®ÿ±ŸÜÿßŸÖÿ¨ ÿßŸÑŸÉŸàÿ™ÿ¥ ŸÑŸÑÿµÿ±ÿßŸÅÿ©" placeholder="ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≠ŸÑ" readonly>
                <small>ÿßÿ≥ŸÖ ÿßŸÑÿ®ÿ±ŸÜÿßŸÖÿ¨ ÿ´ÿßÿ®ÿ™ Ÿàÿ∫Ÿäÿ± ŸÇÿßÿ®ŸÑ ŸÑŸÑÿ™ÿ∫ŸäŸäÿ±</small>
            </div>

            <div class="form-group">
                <button type="button" class="btn btn-success" onclick="saveWhatsAppSettings()">üíæ ÿ≠ŸÅÿ∏ ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™</button>
                <button type="button" class="btn btn-secondary" onclick="testWhatsAppNotification()">üì± ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ™ŸÜÿ®ŸäŸá</button>
            </div>

            <div class="info-box">
                <h3>üìã ŸÉŸäŸÅŸäÿ© ÿπŸÖŸÑ ÿßŸÑÿ™ŸÜÿ®ŸäŸáÿßÿ™:</h3>
                <ul>
                    <li>ÿπŸÜÿØ ÿ•ÿ∂ÿßŸÅÿ© ÿ£Ÿä ÿπŸÖŸÑŸäÿ© (ÿ¥ÿ±ÿßÿ°ÿå ÿ®Ÿäÿπÿå ŸÖÿµÿ±ŸàŸÅ)ÿå ÿ≥Ÿäÿ™ŸÖ ŸÅÿ™ÿ≠ ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ® ÿ™ŸÑŸÇÿßÿ¶ŸäÿßŸã</li>
                    <li>ÿ≥ÿ™ÿ¨ÿØ ÿ±ÿ≥ÿßŸÑÿ© ÿ¨ÿßŸáÿ≤ÿ© ÿ™ÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ÿ™ŸÅÿßÿµŸäŸÑ ÿßŸÑÿπŸÖŸÑŸäÿ©</li>
                    <li>ŸäŸÖŸÉŸÜŸÉ ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ±ÿ≥ÿßŸÑÿ© ŸÖÿ®ÿßÿ¥ÿ±ÿ© ÿ£Ÿà ÿ™ÿπÿØŸäŸÑŸáÿß ÿ≠ÿ≥ÿ® ÿßŸÑÿ≠ÿßÿ¨ÿ©</li>
                    <li>ŸäŸÖŸÉŸÜŸÉ ÿ™ÿπÿ∑ŸäŸÑ ÿßŸÑÿ™ŸÜÿ®ŸäŸáÿßÿ™ ŸÅŸä ÿ£Ÿä ŸàŸÇÿ™ ŸÖŸÜ Ÿáÿ∞Ÿá ÿßŸÑÿµŸÅÿ≠ÿ©</li>
                </ul>
            </div>

            <div id="whatsapp-message"></div>
        </div>

        <div class="footer">
            <p>üè¶ ÿ®ÿ±ŸÜÿßŸÖÿ¨ ÿßŸÑŸÉŸàÿ™ÿ¥ ŸÑŸÑÿµÿ±ÿßŸÅÿ©</p>
            <p>ŸÜÿ∏ÿßŸÖ ÿ¥ÿßŸÖŸÑ ŸÑÿ•ÿØÿßÿ±ÿ© ÿßŸÑÿπŸÖŸÑŸäÿßÿ™ ÿßŸÑŸÖÿßŸÑŸäÿ© Ÿàÿ£ÿ≥ÿπÿßÿ± ÿßŸÑÿµÿ±ŸÅ</p>
            <p>üìû ŸÑŸÑÿ™ŸàÿßÿµŸÑ ŸàÿßŸÑÿßÿ≥ÿ™ŸÅÿ≥ÿßÿ±: +963-0992223739</p>
            <p>üìç ÿßŸÑÿπŸÜŸàÿßŸÜ: ÿØŸÖÿ¥ŸÇ - ÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÖÿ≠ÿßŸÅÿ∏ÿ©</p>
            <p>üöö ÿÆÿØŸÖÿ© ÿ™ŸàÿµŸäŸÑ ÿ∂ŸÖŸÜ ÿØŸÖÿ¥ŸÇ ŸÖÿ£ÿ¨Ÿàÿ±ÿ©</p>
            <p>üí¨ ŸäŸÖŸÉŸÜ ÿßŸÑÿ™ŸàÿßÿµŸÑ ÿπÿ®ÿ± ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ®: +963-0992223739</p>
        </div>
    </div>

    <script>
        // ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ©
        let capitalData = {
            SYR: 0,
            USD: 0,
            JOD: 0,
            TRY: 0,
            KWD: 0,
            EUR: 0
        };

        let operations = [];

        // ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ®
        let whatsappSettings = {
            enabled: true,
            phoneNumber: '9630992223739',
            ownerName: 'ÿ®ÿ±ŸÜÿßŸÖÿ¨ ÿßŸÑŸÉŸàÿ™ÿ¥ ŸÑŸÑÿµÿ±ÿßŸÅÿ©'
        };

        // ÿ£ÿ≥ÿπÿßÿ± ÿßŸÑÿµÿ±ŸÅ
        let exchangeRates = {
            USD: 15000,
            JOD: 21000,
            TRY: 500,
            KWD: 48000,
            EUR: 16000
        };

        // ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™
        let notificationSettings = {
            enabled: true,
            autoSendWhatsapp: true
        };

        // ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™
        let notifications = [];

        // ÿ≠ŸÅÿ∏ ÿ±ÿ£ÿ≥ ÿßŸÑŸÖÿßŸÑ
        function saveCapital() {
            try {
                capitalData.SYR = parseFloat(document.getElementById('capital-syr').value) || 0;
                capitalData.USD = parseFloat(document.getElementById('capital-usd').value) || 0;
                capitalData.JOD = parseFloat(document.getElementById('capital-jod').value) || 0;
                capitalData.TRY = parseFloat(document.getElementById('capital-try').value) || 0;
                capitalData.KWD = parseFloat(document.getElementById('capital-kwd').value) || 0;
                capitalData.EUR = parseFloat(document.getElementById('capital-eur').value) || 0;

                saveData();
                updateSummary();
                showMessage('capital-message', 'ÿ™ŸÖ ÿ≠ŸÅÿ∏ ÿ±ÿ£ÿ≥ ÿßŸÑŸÖÿßŸÑ ÿ®ŸÜÿ¨ÿßÿ≠!', 'success');
                
                if (notificationSettings.enabled) {
                    addNotification('ÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿ´ ÿ±ÿ£ÿ≥ ÿßŸÑŸÖÿßŸÑ ÿ®ŸÜÿ¨ÿßÿ≠', 'success');
                }
            } catch (error) {
                handleError(error, 'ÿ≠ŸÅÿ∏ ÿ±ÿ£ÿ≥ ÿßŸÑŸÖÿßŸÑ');
            }
        }

        // ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿ±ÿ£ÿ≥ ÿßŸÑŸÖÿßŸÑ
        function resetCapital() {
            try {
                if (confirm('ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿ±ÿ£ÿ≥ ÿßŸÑŸÖÿßŸÑ ÿ•ŸÑŸâ ÿßŸÑÿµŸÅÿ±ÿü')) {
                    capitalData = {
                        SYR: 0,
                        USD: 0,
                        JOD: 0,
                        TRY: 0,
                        KWD: 0,
                        EUR: 0
                    };

                    document.getElementById('capital-syr').value = 0;
                    document.getElementById('capital-usd').value = 0;
                    document.getElementById('capital-jod').value = 0;
                    document.getElementById('capital-try').value = 0;
                    document.getElementById('capital-kwd').value = 0;
                    document.getElementById('capital-eur').value = 0;

                    saveData();
                    updateSummary();
                    showMessage('capital-message', 'ÿ™ŸÖ ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿ±ÿ£ÿ≥ ÿßŸÑŸÖÿßŸÑ!', 'info');
                    
                    if (notificationSettings.enabled) {
                        addNotification('ÿ™ŸÖ ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿ±ÿ£ÿ≥ ÿßŸÑŸÖÿßŸÑ', 'info');
                    }
                }
            } catch (error) {
                handleError(error, 'ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿ±ÿ£ÿ≥ ÿßŸÑŸÖÿßŸÑ');
            }
        }

        // ÿ•ÿ∂ÿßŸÅÿ© ÿπŸÖŸÑŸäÿ© ÿ¨ÿØŸäÿØÿ©
        document.getElementById('operation-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            try {
                const type = document.getElementById('operation-type').value;
                const currency = document.getElementById('operation-currency').value;
                const amount = parseFloat(document.getElementById('operation-amount').value);
                const description = document.getElementById('operation-description').value.trim();
                const notes = document.getElementById('operation-notes').value.trim();
                const date = document.getElementById('operation-date').value;

                // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿµÿ≠ÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™
                const amountValidation = validateAmount(amount);
                const descValidation = validateDescription(description);

                if (!type) {
                    throw new Error('Ÿäÿ±ÿ¨Ÿâ ÿßÿÆÿ™Ÿäÿßÿ± ŸÜŸàÿπ ÿßŸÑÿπŸÖŸÑŸäÿ©');
                }

                if (!currency) {
                    throw new Error('Ÿäÿ±ÿ¨Ÿâ ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑÿπŸÖŸÑÿ©');
                }

                if (!date) {
                    throw new Error('Ÿäÿ±ÿ¨Ÿâ ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑÿ™ÿßÿ±ŸäÿÆ');
                }

                // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿ≥ÿπÿ± ÿßŸÑÿµÿ±ŸÅ ŸÑŸÑÿπŸÖŸÑŸäÿßÿ™ ÿßŸÑÿ™Ÿä ÿ™ÿ™ÿ∑ŸÑÿ® ÿ∞ŸÑŸÉ
                let exchangeRateValue = 1;
                if ((type === 'ÿ¥ÿ±ÿßÿ°' || type === 'ÿ®Ÿäÿπ') && currency !== 'SYR') {
                    const exchangeRateInput = document.getElementById('exchange-rate');
                    exchangeRateValue = parseFloat(exchangeRateInput.value);
                    
                    if (!exchangeRateValue || exchangeRateValue <= 0) {
                        throw new Error('Ÿäÿ±ÿ¨Ÿâ ÿ•ÿØÿÆÿßŸÑ ÿ≥ÿπÿ± ÿµÿ±ŸÅ ÿµÿ≠Ÿäÿ≠');
                    }
                }

                // ÿ≠ÿ≥ÿßÿ® ÿßŸÑŸÇŸäŸÖÿ© ÿ®ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ≥Ÿàÿ±Ÿäÿ©
                let syrAmount = 0;
                if (type === 'ÿ¥ÿ±ÿßÿ°' || type === 'ÿ®Ÿäÿπ') {
                    if (currency === 'SYR') {
                        syrAmount = amountValidation.value;
                    } else {
                        syrAmount = amountValidation.value * exchangeRateValue;
                    }
                } else {
                    syrAmount = amountValidation.value;
                }

                // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿ™ŸàŸÅÿ± ÿßŸÑŸÖÿ®ŸÑÿ∫ ŸÑŸÑÿ¥ÿ±ÿßÿ°
                if (type === 'ÿ¥ÿ±ÿßÿ°' && currency !== 'SYR') {
                    const currentBalance = getCurrentBalance();
                    if (currentBalance.SYR < syrAmount) {
                        throw new Error(`ÿßŸÑŸÖÿ®ŸÑÿ∫ ÿßŸÑŸÖÿ™ÿßÿ≠ ÿ®ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ≥Ÿàÿ±Ÿäÿ© ÿ∫Ÿäÿ± ŸÉÿßŸÅŸä. ÿßŸÑŸÖÿ∑ŸÑŸàÿ®: ${syrAmount.toLocaleString()}ÿå ÿßŸÑŸÖÿ™ÿßÿ≠: ${currentBalance.SYR.toLocaleString()}`);
                    }
                }

                const operation = {
                    id: Date.now(),
                    type: type,
                    currency: currency,
                    amount: amountValidation.value,
                    rate: exchangeRateValue,
                    syrAmount: syrAmount,
                    description: descValidation.value,
                    notes: notes || '',
                    date: date,
                    time: new Date().toLocaleTimeString('ar-SA')
                };

                operations.unshift(operation);
                saveData();
                
                // ÿ•ÿ∂ÿßŸÅÿ© ÿ•ÿ¥ÿπÿßÿ± ÿØÿßÿÆŸÑŸä
                if (notificationSettings.enabled) {
                    const notificationMessage = `ÿ™ŸÖ ÿ•ÿ∂ÿßŸÅÿ© ÿπŸÖŸÑŸäÿ© ${type}: ${amountValidation.value} ${currency} - ${descValidation.value}`;
                    addNotification(notificationMessage, 'success');
                }
                
                // ÿ•ÿ±ÿ≥ÿßŸÑ ÿ™ŸÜÿ®ŸäŸá Ÿàÿßÿ™ÿ≥ÿßÿ®
                if (notificationSettings.autoSendWhatsapp) {
                    try {
                        const whatsappMessage = formatOperationMessage(operation);
                        sendWhatsAppNotification(whatsappMessage);
                    } catch (whatsappError) {
                        console.warn('ÿ™ÿπÿ∞ÿ± ÿ•ÿ±ÿ≥ÿßŸÑ ÿ™ŸÜÿ®ŸäŸá ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ®:', whatsappError);
                        if (notificationSettings.enabled) {
                            addNotification('ÿ™ÿπÿ∞ÿ± ÿ•ÿ±ÿ≥ÿßŸÑ ÿ™ŸÜÿ®ŸäŸá ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ®', 'warning');
                        }
                    }
                }
                
                // ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿßŸÑŸÜŸÖŸàÿ∞ÿ¨
                document.getElementById('operation-form').reset();
                document.getElementById('exchange-rate-section').style.display = 'none';
                
                // ÿ™ÿπŸäŸäŸÜ ÿßŸÑÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿ≠ÿßŸÑŸä ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('operation-date').value = today;
                
                showMessage('operation-message', 'ÿ™ŸÖ ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑÿπŸÖŸÑŸäÿ© ÿ®ŸÜÿ¨ÿßÿ≠!', 'success');
                updateSummary();
                
                // ÿ•ÿ∂ÿßŸÅÿ© ÿ™ÿ£ÿ´Ÿäÿ± ÿ®ÿµÿ±Ÿä
                document.querySelector('#operation-form .btn-success').classList.add('pulse');
                setTimeout(() => {
                    document.querySelector('#operation-form .btn-success').classList.remove('pulse');
                }, 2000);
            } catch (error) {
                handleError(error, 'operation');
                document.querySelector('#operation-form .btn-success').classList.add('shake');
                setTimeout(() => {
                    document.querySelector('#operation-form .btn-success').classList.remove('shake');
                }, 500);
            }
        });

        // ÿ≠ÿ≥ÿßÿ® ÿßŸÑÿ±ÿµŸäÿØ ÿßŸÑÿ≠ÿßŸÑŸä
        function getCurrentBalance() {
            try {
                const balance = { ...capitalData };

                operations.forEach(operation => {
                    const { type, currency, amount, syrAmount } = operation;
                    
                    if (type === 'ÿ¥ÿ±ÿßÿ°') {
                        if (currency === 'SYR') {
                            balance.SYR -= amount;
                        } else {
                            balance.SYR -= syrAmount;
                            balance[currency] += amount;
                        }
                    } else if (type === 'ÿ®Ÿäÿπ') {
                        if (currency === 'SYR') {
                            balance.SYR += amount;
                        } else {
                            balance.SYR += syrAmount;
                            balance[currency] -= amount;
                        }
                    } else if (type === 'ŸÖÿµÿ±ŸàŸÅ' || type === 'ÿØŸÅÿπ') {
                        balance[currency] -= amount;
                    } else if (type === 'ŸÇÿ®ÿ∂') {
                        balance[currency] += amount;
                    }
                });

                return balance;
            } catch (error) {
                handleError(error, 'ÿ≠ÿ≥ÿßÿ® ÿßŸÑÿ±ÿµŸäÿØ');
                return { ...capitalData };
            }
        }

        // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿπŸÖŸÑŸäÿßÿ™
        function loadOperations() {
            try {
                const operationsList = document.getElementById('operations-list');
                
                if (operations.length === 0) {
                    operationsList.innerHTML = `
                        <div class="operation-item">
                            <div style="text-align: center; color: #6c757d; padding: 20px;">
                                ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿπŸÖŸÑŸäÿßÿ™ ŸÖÿ≥ÿ¨ŸÑÿ© ÿ®ÿπÿØ
                            </div>
                        </div>
                    `;
                    return;
                }

                let html = '';
                operations.forEach(operation => {
                    const typeEmoji = {
                        'ÿ¥ÿ±ÿßÿ°': 'üõçÔ∏è',
                        'ÿ®Ÿäÿπ': 'üõí',
                        'ŸÖÿµÿ±ŸàŸÅ': 'üí∏',
                        'ŸÇÿ®ÿ∂': 'üí∞',
                        'ÿØŸÅÿπ': 'üí≥'
                    };

                    const currencyEmoji = {
                        'USD': 'üíµ',
                        'JOD': 'üáØüá¥',
                        'TRY': 'üáπüá∑',
                        'KWD': 'üá∞üáº',
                        'EUR': 'üá™üá∫',
                        'SYR': 'üá∏üáæ'
                    };

                    html += `
                        <div class="operation-item">
                            <div class="operation-header">
                                <div class="operation-type">
                                    ${typeEmoji[operation.type] || 'üìù'} ${operation.type}
                                </div>
                                <div class="operation-amount">
                                    ${operation.amount.toLocaleString()} ${currencyEmoji[operation.currency]} ${operation.currency}
                                </div>
                            </div>
                            <div class="operation-details">
                                <div><strong>ÿßŸÑŸàÿµŸÅ:</strong> ${operation.description}</div>
                                ${operation.notes ? `<div><strong>ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™:</strong> ${operation.notes}</div>` : ''}
                                ${operation.rate && operation.rate !== 1 ? `<div><strong>ÿ≥ÿπÿ± ÿßŸÑÿµÿ±ŸÅ:</strong> ${operation.rate.toLocaleString()}</div>` : ''}
                                ${operation.syrAmount && operation.currency !== 'SYR' ? `<div><strong>ÿßŸÑŸÖÿ®ŸÑÿ∫ ÿ®ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ≥Ÿàÿ±Ÿäÿ©:</strong> ${operation.syrAmount.toLocaleString()}</div>` : ''}
                                <div><strong>ÿßŸÑÿ™ÿßÿ±ŸäÿÆ:</strong> ${operation.date} - ${operation.time}</div>
                            </div>
                        </div>
                    `;
                });

                operationsList.innerHTML = html;
            } catch (error) {
                handleError(error, 'ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿπŸÖŸÑŸäÿßÿ™');
            }
        }

        // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÖŸÑÿÆÿµ
        function updateSummary() {
            try {
                const balance = getCurrentBalance();
                
                document.getElementById('balance-syr').textContent = balance.SYR.toLocaleString();
                document.getElementById('balance-usd').textContent = balance.USD.toLocaleString();
                document.getElementById('balance-jod').textContent = balance.JOD.toLocaleString();
                document.getElementById('balance-try').textContent = balance.TRY.toLocaleString();
                document.getElementById('balance-kwd').textContent = balance.KWD.toLocaleString();
                document.getElementById('balance-eur').textContent = balance.EUR.toLocaleString();

                // ÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑÿπŸÖŸÑŸäÿßÿ™
                const totalOps = operations.length;
                const buyOps = operations.filter(op => op.type === 'ÿ¥ÿ±ÿßÿ°').length;
                const sellOps = operations.filter(op => op.type === 'ÿ®Ÿäÿπ').length;
                const expenseOps = operations.filter(op => op.type === 'ŸÖÿµÿ±ŸàŸÅ' || op.type === 'ÿØŸÅÿπ').length;

                document.getElementById('total-operations').textContent = totalOps;
                document.getElementById('buy-operations').textContent = buyOps;
                document.getElementById('sell-operations').textContent = sellOps;
                document.getElementById('expense-operations').textContent = expenseOps;
            } catch (error) {
                handleError(error, 'ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÖŸÑÿÆÿµ');
            }
        }

        // ÿ™ÿµÿØŸäÿ± ÿ•ŸÑŸâ Excel
        function exportToExcel() {
            try {
                if (operations.length === 0) {
                    alert('ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿπŸÖŸÑŸäÿßÿ™ ŸÑŸÑÿ™ÿµÿØŸäÿ±');
                    return;
                }

                const workbook = XLSX.utils.book_new();
                
                // ÿ•ÿπÿØÿßÿØ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿπŸÖŸÑŸäÿßÿ™
                const operationsData = operations.map(operation => ({
                    'ÿßŸÑŸÜŸàÿπ': operation.type,
                    'ÿßŸÑÿπŸÖŸÑÿ©': operation.currency,
                    'ÿßŸÑŸÉŸÖŸäÿ©': operation.amount,
                    'ÿ≥ÿπÿ± ÿßŸÑÿµÿ±ŸÅ': operation.rate || '',
                    'ÿßŸÑŸÖÿ®ŸÑÿ∫ ÿ®ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ≥Ÿàÿ±Ÿäÿ©': operation.syrAmount || '',
                    'ÿßŸÑŸàÿµŸÅ': operation.description,
                    'ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™': operation.notes || '',
                    'ÿßŸÑÿ™ÿßÿ±ŸäÿÆ': operation.date,
                    'ÿßŸÑŸàŸÇÿ™': operation.time
                }));

                const operationsSheet = XLSX.utils.json_to_sheet(operationsData);
                XLSX.utils.book_append_sheet(workbook, operationsSheet, 'ÿßŸÑÿπŸÖŸÑŸäÿßÿ™');

                // ÿ•ÿπÿØÿßÿØ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖŸÑÿÆÿµ
                const balance = getCurrentBalance();
                const summaryData = [
                    { 'ÿßŸÑÿπŸÖŸÑÿ©': 'ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ≥Ÿàÿ±Ÿäÿ©', 'ÿßŸÑÿ±ŸÖÿ≤': 'SYR', 'ÿßŸÑÿ±ÿµŸäÿØ': balance.SYR },
                    { 'ÿßŸÑÿπŸÖŸÑÿ©': 'ÿßŸÑÿØŸàŸÑÿßÿ± ÿßŸÑÿ£ŸÖÿ±ŸäŸÉŸä', 'ÿßŸÑÿ±ŸÖÿ≤': 'USD', 'ÿßŸÑÿ±ÿµŸäÿØ': balance.USD },
                    { 'ÿßŸÑÿπŸÖŸÑÿ©': 'ÿßŸÑÿØŸäŸÜÿßÿ± ÿßŸÑÿ£ÿ±ÿØŸÜŸä', 'ÿßŸÑÿ±ŸÖÿ≤': 'JOD', 'ÿßŸÑÿ±ÿµŸäÿØ': balance.JOD },
                    { 'ÿßŸÑÿπŸÖŸÑÿ©': 'ÿßŸÑŸÑŸäÿ±ÿ© ÿßŸÑÿ™ÿ±ŸÉŸäÿ©', 'ÿßŸÑÿ±ŸÖÿ≤': 'TRY', 'ÿßŸÑÿ±ÿµŸäÿØ': balance.TRY },
                    { 'ÿßŸÑÿπŸÖŸÑÿ©': 'ÿßŸÑÿØŸäŸÜÿßÿ± ÿßŸÑŸÉŸàŸäÿ™Ÿä', 'ÿßŸÑÿ±ŸÖÿ≤': 'KWD', 'ÿßŸÑÿ±ÿµŸäÿØ': balance.KWD },
                    { 'ÿßŸÑÿπŸÖŸÑÿ©': 'ÿßŸÑŸäŸàÿ±Ÿà', 'ÿßŸÑÿ±ŸÖÿ≤': 'EUR', 'ÿßŸÑÿ±ÿµŸäÿØ': balance.EUR }
                ];

                const summarySheet = XLSX.utils.json_to_sheet(summaryData);
                XLSX.utils.book_append_sheet(workbook, summarySheet, 'ÿßŸÑŸÖŸÑÿÆÿµ');

                // ÿ™ÿµÿØŸäÿ± ÿßŸÑŸÖŸÑŸÅ
                const fileName = `ÿßŸÑŸÉŸàÿ™ÿ¥_ŸÑŸÑÿµÿ±ÿßŸÅÿ©_${new Date().toISOString().split('T')[0]}.xlsx`;
                XLSX.writeFile(workbook, fileName);
                
                showMessage('operations-message', 'ÿ™ŸÖ ÿ™ÿµÿØŸäÿ± ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ•ŸÑŸâ Excel ÿ®ŸÜÿ¨ÿßÿ≠!', 'success');
                
                if (notificationSettings.enabled) {
                    addNotification('ÿ™ŸÖ ÿ™ÿµÿØŸäÿ± ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ•ŸÑŸâ Excel', 'success');
                }
            } catch (error) {
                handleError(error, 'ÿ™ÿµÿØŸäÿ± Excel');
            }
        }

        // ŸÖÿ≥ÿ≠ ÿ¨ŸÖŸäÿπ ÿßŸÑÿπŸÖŸÑŸäÿßÿ™
        function clearAllOperations() {
            try {
                if (confirm('ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ≠ÿ∞ŸÅ ÿ¨ŸÖŸäÿπ ÿßŸÑÿπŸÖŸÑŸäÿßÿ™ÿü Ÿáÿ∞ÿß ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ° ŸÑÿß ŸäŸÖŸÉŸÜ ÿßŸÑÿ™ÿ±ÿßÿ¨ÿπ ÿπŸÜŸá.')) {
                    operations = [];
                    saveData();
                    loadOperations();
                    updateSummary();
                    showMessage('operations-message', 'ÿ™ŸÖ ÿ≠ÿ∞ŸÅ ÿ¨ŸÖŸäÿπ ÿßŸÑÿπŸÖŸÑŸäÿßÿ™!', 'info');
                    
                    if (notificationSettings.enabled) {
                        addNotification('ÿ™ŸÖ ÿ≠ÿ∞ŸÅ ÿ¨ŸÖŸäÿπ ÿßŸÑÿπŸÖŸÑŸäÿßÿ™', 'info');
                    }
                }
            } catch (error) {
                handleError(error, 'ÿ≠ÿ∞ŸÅ ÿßŸÑÿπŸÖŸÑŸäÿßÿ™');
            }
        }

        // ÿØŸàÿßŸÑ ÿ£ÿ≥ÿπÿßÿ± ÿßŸÑÿµÿ±ŸÅ
        function saveExchangeRates() {
            try {
                exchangeRates.USD = parseFloat(document.getElementById('usd-rate').value) || 15000;
                exchangeRates.JOD = parseFloat(document.getElementById('jod-rate').value) || 21000;
                exchangeRates.TRY = parseFloat(document.getElementById('try-rate').value) || 500;
                exchangeRates.KWD = parseFloat(document.getElementById('kwd-rate').value) || 48000;
                exchangeRates.EUR = parseFloat(document.getElementById('eur-rate').value) || 16000;

                localStorage.setItem('exchangeRates', JSON.stringify(exchangeRates));
                updateCurrencyEquivalents();
                showMessage('exchange-rates-message', 'ÿ™ŸÖ ÿ≠ŸÅÿ∏ ÿ£ÿ≥ÿπÿßÿ± ÿßŸÑÿµÿ±ŸÅ ÿ®ŸÜÿ¨ÿßÿ≠!', 'success');
                
                if (notificationSettings.enabled) {
                    addNotification('ÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿ´ ÿ£ÿ≥ÿπÿßÿ± ÿßŸÑÿµÿ±ŸÅ', 'success');
                }
            } catch (error) {
                handleError(error, 'ÿ≠ŸÅÿ∏ ÿ£ÿ≥ÿπÿßÿ± ÿßŸÑÿµÿ±ŸÅ');
            }
        }

        function loadExchangeRates() {
            try {
                const saved = localStorage.getItem('exchangeRates');
                if (saved) {
                    exchangeRates = JSON.parse(saved);
                }

                document.getElementById('usd-rate').value = exchangeRates.USD;
                document.getElementById('jod-rate').value = exchangeRates.JOD;
                document.getElementById('try-rate').value = exchangeRates.TRY;
                document.getElementById('kwd-rate').value = exchangeRates.KWD;
                document.getElementById('eur-rate').value = exchangeRates.EUR;

                updateCurrencyEquivalents();
            } catch (error) {
                handleError(error, 'ÿ™ÿ≠ŸÖŸäŸÑ ÿ£ÿ≥ÿπÿßÿ± ÿßŸÑÿµÿ±ŸÅ');
            }
        }

        function updateCurrencyEquivalents() {
            try {
                document.getElementById('usd-equivalent').textContent = exchangeRates.USD.toLocaleString();
                document.getElementById('jod-equivalent').textContent = exchangeRates.JOD.toLocaleString();
                document.getElementById('try-equivalent').textContent = exchangeRates.TRY.toLocaleString();
                document.getElementById('kwd-equivalent').textContent = exchangeRates.KWD.toLocaleString();
                document.getElementById('eur-equivalent').textContent = exchangeRates.EUR.toLocaleString();
                document.getElementById('sar-equivalent').textContent = exchangeRates.SAR.toLocaleString();
                document.getElementById('aed-equivalent').textContent = exchangeRates.AED.toLocaleString();
            } catch (error) {
                handleError(error, 'ÿ™ÿ≠ÿØŸäÿ´ ŸÖÿπÿßÿØŸÑ ÿßŸÑÿπŸÖŸÑÿßÿ™');
            }
        }

        function resetExchangeRates() {
            try {
                exchangeRates = {
                    USD: 15000,
                    JOD: 21000,
                    TRY: 500,
                    KWD: 48000,
                    EUR: 16000,
                    SAR: 4000,
                    AED: 4100
                };
                loadExchangeRates();
                showMessage('exchange-rates-message', 'ÿ™ŸÖ ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿ£ÿ≥ÿπÿßÿ± ÿßŸÑÿµÿ±ŸÅ ÿ•ŸÑŸâ ÿßŸÑŸÇŸäŸÖ ÿßŸÑÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ©!', 'info');
            } catch (error) {
                handleError(error, 'ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿ£ÿ≥ÿπÿßÿ± ÿßŸÑÿµÿ±ŸÅ');
            }
        }

        // ÿØŸàÿßŸÑ ÿßŸÑÿ¢ŸÑÿ© ÿßŸÑÿ≠ÿßÿ≥ÿ®ÿ©
        function calculateCurrency() {
            try {
                const amount = parseFloat(document.getElementById('calc-amount').value);
                const fromCurrency = document.getElementById('calc-from-currency').value;
                const toCurrency = document.getElementById('calc-to-currency').value;

                if (!amount || amount <= 0) {
                    throw new Error('Ÿäÿ±ÿ¨Ÿâ ÿ•ÿØÿÆÿßŸÑ ŸÖÿ®ŸÑÿ∫ ÿµÿ≠Ÿäÿ≠');
                }

                if (!fromCurrency || !toCurrency) {
                    throw new Error('Ÿäÿ±ÿ¨Ÿâ ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑÿπŸÖŸÑÿßÿ™');
                }

                let result = 0;
                let calculation = '';

                if (fromCurrency === toCurrency) {
                    result = amount;
                    calculation = `${amount} ${fromCurrency} = ${result} ${toCurrency}`;
                } else if (fromCurrency === 'SYR') {
                    result = amount / exchangeRates[toCurrency];
                    calculation = `${amount.toLocaleString()} ŸÑŸäÿ±ÿ© ÿ≥Ÿàÿ±Ÿäÿ© √∑ ${exchangeRates[toCurrency].toLocaleString()} = ${result.toFixed(2)} ${toCurrency}`;
                } else if (toCurrency === 'SYR') {
                    result = amount * exchangeRates[fromCurrency];
                    calculation = `${amount} ${fromCurrency} √ó ${exchangeRates[fromCurrency].toLocaleString()} = ${result.toLocaleString()} ŸÑŸäÿ±ÿ© ÿ≥Ÿàÿ±Ÿäÿ©`;
                } else {
                    const syrAmount = amount * exchangeRates[fromCurrency];
                    result = syrAmount / exchangeRates[toCurrency];
                    calculation = `${amount} ${fromCurrency} ‚Üí ${syrAmount.toLocaleString()} ŸÑŸäÿ±ÿ© ÿ≥Ÿàÿ±Ÿäÿ© ‚Üí ${result.toFixed(2)} ${toCurrency}`;
                }

                document.getElementById('conversion-details').innerHTML = `
                    <div class="calculation-step">
                        <strong>ÿßŸÑÿπŸÖŸÑŸäÿ©:</strong> ${calculation}
                    </div>
                    <div class="calculation-result">
                        <strong>ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ©:</strong> ${result.toLocaleString()} ${toCurrency}
                    </div>
                `;

                document.getElementById('calculation-result').style.display = 'block';
                showMessage('calculator-message', 'ÿ™ŸÖ ÿ≠ÿ≥ÿßÿ® ÿßŸÑÿ™ÿ≠ŸàŸäŸÑ ÿ®ŸÜÿ¨ÿßÿ≠!', 'success');
            } catch (error) {
                handleError(error, 'ÿ≠ÿ≥ÿßÿ® ÿßŸÑÿ™ÿ≠ŸàŸäŸÑ');
            }
        }

        function clearCalculator() {
            try {
                document.getElementById('calc-amount').value = '';
                document.getElementById('calc-from-currency').value = 'SYR';
                document.getElementById('calc-to-currency').value = 'USD';
                document.getElementById('calculation-result').style.display = 'none';
                document.getElementById('calculator-message').innerHTML = '';
            } catch (error) {
                handleError(error, 'ŸÖÿ≥ÿ≠ ÿßŸÑÿ¢ŸÑÿ© ÿßŸÑÿ≠ÿßÿ≥ÿ®ÿ©');
            }
        }

        // ÿØŸàÿßŸÑ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™
        function addNotification(message, type = 'info') {
            try {
                const notification = {
                    id: Date.now(),
                    message: message,
                    type: type,
                    timestamp: new Date().toLocaleString('ar-SA')
                };

                notifications.unshift(notification);
                
                // ÿßŸÑÿßÿ≠ÿ™ŸÅÿßÿ∏ ÿ®ÿ¢ÿÆÿ± 50 ÿ•ÿ¥ÿπÿßÿ± ŸÅŸÇÿ∑
                if (notifications.length > 50) {
                    notifications = notifications.slice(0, 50);
                }

                localStorage.setItem('notifications', JSON.stringify(notifications));
                updateNotificationsList();
            } catch (error) {
                handleError(error, 'ÿ•ÿ∂ÿßŸÅÿ© ÿ•ÿ¥ÿπÿßÿ±');
            }
        }

        function updateNotificationsList() {
            try {
                const container = document.getElementById('notifications-container');
                
                if (notifications.length === 0) {
                    container.innerHTML = `
                        <div class="notification-item">
                            <div style="text-align: center; color: #6c757d; padding: 20px;">
                                ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿ®ÿπÿØ
                            </div>
                        </div>
                    `;
                    return;
                }

                let html = '';
                notifications.forEach(notification => {
                    const typeEmoji = {
                        'success': '‚úÖ',
                        'error': '‚ùå',
                        'warning': '‚ö†Ô∏è',
                        'info': '‚ÑπÔ∏è'
                    };

                    html += `
                        <div class="notification-item ${notification.type}">
                            <div class="notification-header">
                                <span class="notification-icon">${typeEmoji[notification.type] || '‚ÑπÔ∏è'}</span>
                                <span class="notification-time">${notification.timestamp}</span>
                            </div>
                            <div class="notification-message">${notification.message}</div>
                        </div>
                    `;
                });

                container.innerHTML = html;
            } catch (error) {
                handleError(error, 'ÿ™ÿ≠ÿØŸäÿ´ ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™');
            }
        }

        function saveNotificationSettings() {
            try {
                notificationSettings.enabled = document.getElementById('notifications-enabled').checked;
                notificationSettings.autoSendWhatsapp = document.getElementById('auto-send-whatsapp').checked;

                localStorage.setItem('notificationSettings', JSON.stringify(notificationSettings));
                showMessage('notifications-message', 'ÿ™ŸÖ ÿ≠ŸÅÿ∏ ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿ®ŸÜÿ¨ÿßÿ≠!', 'success');
            } catch (error) {
                handleError(error, 'ÿ≠ŸÅÿ∏ ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™');
            }
        }

        function loadNotificationSettings() {
            try {
                const saved = localStorage.getItem('notificationSettings');
                if (saved) {
                    notificationSettings = JSON.parse(saved);
                }

                document.getElementById('notifications-enabled').checked = notificationSettings.enabled;
                document.getElementById('auto-send-whatsapp').checked = notificationSettings.autoSendWhatsapp;
            } catch (error) {
                handleError(error, 'ÿ™ÿ≠ŸÖŸäŸÑ ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™');
            }
        }

        function clearAllNotifications() {
            try {
                if (confirm('ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ≠ÿ∞ŸÅ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ÿü')) {
                    notifications = [];
                    localStorage.removeItem('notifications');
                    updateNotificationsList();
                    showMessage('notifications-message', 'ÿ™ŸÖ ÿ≠ÿ∞ŸÅ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™!', 'info');
                }
            } catch (error) {
                handleError(error, 'ÿ≠ÿ∞ŸÅ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™');
            }
        }

        // ÿØŸàÿßŸÑ ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ®
        function saveWhatsAppSettings() {
            try {
                whatsappSettings.enabled = document.getElementById('whatsapp-enabled').checked;
                whatsappSettings.phoneNumber = document.getElementById('whatsapp-phone').value.trim();
                whatsappSettings.ownerName = document.getElementById('whatsapp-name').value.trim();

                if (whatsappSettings.enabled && !whatsappSettings.phoneNumber) {
                    throw new Error('Ÿäÿ±ÿ¨Ÿâ ÿ•ÿØÿÆÿßŸÑ ÿ±ŸÇŸÖ ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ®');
                }

                if (whatsappSettings.phoneNumber && !/^\d{10,15}$/.test(whatsappSettings.phoneNumber)) {
                    throw new Error('ÿ±ŸÇŸÖ ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ® ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠. Ÿäÿ¨ÿ® ÿ£ŸÜ Ÿäÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ÿ£ÿ±ŸÇÿßŸÖ ŸÅŸÇÿ∑ (10-15 ÿ±ŸÇŸÖ)');
                }

                localStorage.setItem('whatsappSettings', JSON.stringify(whatsappSettings));
                showMessage('whatsapp-message', 'ÿ™ŸÖ ÿ≠ŸÅÿ∏ ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ® ÿ®ŸÜÿ¨ÿßÿ≠!', 'success');
                
                if (notificationSettings.enabled) {
                    addNotification('ÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿ´ ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ®', 'success');
                }
            } catch (error) {
                handleError(error, 'ÿ≠ŸÅÿ∏ ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ®');
            }
        }

        function loadWhatsAppSettings() {
            try {
                const saved = localStorage.getItem('whatsappSettings');
                if (saved) {
                    whatsappSettings = JSON.parse(saved);
                }

                document.getElementById('whatsapp-enabled').checked = whatsappSettings.enabled;
                document.getElementById('whatsapp-phone').value = whatsappSettings.phoneNumber;
                document.getElementById('whatsapp-name').value = whatsappSettings.ownerName;
            } catch (error) {
                handleError(error, 'ÿ™ÿ≠ŸÖŸäŸÑ ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ®');
            }
        }

        function testWhatsAppNotification() {
            try {
                const testMessage = `üè¶ *${whatsappSettings.ownerName}*

üì± *ÿ±ÿ≥ÿßŸÑÿ© ÿ™ÿ¨ÿ±Ÿäÿ®Ÿäÿ©*

Ÿáÿ∞Ÿá ÿ±ÿ≥ÿßŸÑÿ© ÿ™ÿ¨ÿ±Ÿäÿ®Ÿäÿ© ŸÑŸÑÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿπŸÖŸÑ ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ™ŸÜÿ®ŸäŸáÿßÿ™.

üìç ÿØŸÖÿ¥ŸÇ - ÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÖÿ≠ÿßŸÅÿ∏ÿ©
üìû +963-0992223739`;

                sendWhatsAppNotification(testMessage);
                showMessage('whatsapp-message', 'ÿ™ŸÖ ÿ•ÿ±ÿ≥ÿßŸÑ ÿ±ÿ≥ÿßŸÑÿ© ÿ™ÿ¨ÿ±Ÿäÿ®Ÿäÿ©!', 'success');
            } catch (error) {
                handleError(error, 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ®');
            }
        }

        function formatOperationMessage(operation) {
            const currencyNames = {
                'USD': 'ÿØŸàŸÑÿßÿ± ÿ£ŸÖÿ±ŸäŸÉŸä üíµ',
                'JOD': 'ÿØŸäŸÜÿßÿ± ÿ£ÿ±ÿØŸÜŸä üáØüá¥',
                'TRY': 'ŸÑŸäÿ±ÿ© ÿ™ÿ±ŸÉŸäÿ© üáπüá∑',
                'KWD': 'ÿØŸäŸÜÿßÿ± ŸÉŸàŸäÿ™Ÿä üá∞üáº',
                'EUR': 'ŸäŸàÿ±Ÿà üá™üá∫',
                'SAR': 'ÿ±ŸäÿßŸÑ ÿ≥ÿπŸàÿØŸä üá∏üá¶',
                'AED': 'ÿØÿ±ŸáŸÖ ÿ•ŸÖÿßÿ±ÿßÿ™Ÿä üá¶üá™',
                'SYR': 'ŸÑŸäÿ±ÿ© ÿ≥Ÿàÿ±Ÿäÿ© üá∏üáæ'
            };

            return `üè¶ *${whatsappSettings.ownerName}*

üìä *ÿ™ŸÜÿ®ŸäŸá ÿπŸÖŸÑŸäÿ© ÿ¨ÿØŸäÿØÿ©*

üî∏ *ÿßŸÑŸÜŸàÿπ:* ${operation.type}
üí∞ *ÿßŸÑÿπŸÖŸÑÿ©:* ${currencyNames[operation.currency]}
üìà *ÿßŸÑŸÉŸÖŸäÿ©:* ${operation.amount.toLocaleString()}
${operation.rate && operation.rate !== 1 ? `üí± *ÿ≥ÿπÿ± ÿßŸÑÿµÿ±ŸÅ:* ${operation.rate.toLocaleString()}` : ''}
${operation.syrAmount && operation.currency !== 'SYR' ? `üíµ *ÿßŸÑŸÖÿ®ŸÑÿ∫ ÿ®ÿßŸÑŸÑŸäÿ±ÿ©:* ${operation.syrAmount.toLocaleString()}` : ''}
üìù *ÿßŸÑŸàÿµŸÅ:* ${operation.description}
üìÖ *ÿßŸÑÿ™ÿßÿ±ŸäÿÆ:* ${operation.date}
‚è∞ *ÿßŸÑŸàŸÇÿ™:* ${operation.time}

üìç ÿØŸÖÿ¥ŸÇ - ÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÖÿ≠ÿßŸÅÿ∏ÿ©
üìû +963-0992223739`;
        }

        function sendWhatsAppNotification(message) {
            try {
                if (!whatsappSettings.enabled) {
                    return;
                }

                const encodedMessage = encodeURIComponent(message);
                const whatsappUrl = `https://wa.me/${whatsappSettings.phoneNumber}?text=${encodedMessage}`;
                
                window.open(whatsappUrl, '_blank');
            } catch (error) {
                console.error('ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ÿ±ÿ≥ÿßŸÑ ÿ™ŸÜÿ®ŸäŸá ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ®:', error);
                throw error;
            }
        }

        // ÿØŸàÿßŸÑ ŸÖÿ≥ÿßÿπÿØÿ©
        function validateAmount(amount) {
            if (isNaN(amount) || amount <= 0) {
                throw new Error('Ÿäÿ±ÿ¨Ÿâ ÿ•ÿØÿÆÿßŸÑ ŸÖÿ®ŸÑÿ∫ ÿµÿ≠Ÿäÿ≠ ÿ£ŸÉÿ®ÿ± ŸÖŸÜ ÿßŸÑÿµŸÅÿ±');
            }
            return { value: amount };
        }

        function validateDescription(description) {
            if (!description || description.length < 2) {
                throw new Error('Ÿäÿ±ÿ¨Ÿâ ÿ•ÿØÿÆÿßŸÑ ŸàÿµŸÅ ÿµÿ≠Ÿäÿ≠ (ÿ≠ÿØ ÿ£ÿØŸÜŸâ ÿ≠ÿ±ŸÅÿßŸÜ)');
            }
            return { value: description };
        }

        function handleError(error, context) {
            console.error(`ÿÆÿ∑ÿ£ ŸÅŸä ${context}:`, error);
            const message = error.message || 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ∫Ÿäÿ± ŸÖÿ™ŸàŸÇÿπ';
            showMessage(`${context}-message`, `ÿÆÿ∑ÿ£: ${message}`, 'danger');
            
            if (notificationSettings.enabled) {
                addNotification(`ÿÆÿ∑ÿ£ ŸÅŸä ${context}: ${message}`, 'error');
            }
        }

        // ÿ™ÿ≠ÿØŸäÿ´ ŸÇÿ≥ŸÖ ÿ≥ÿπÿ± ÿßŸÑÿµÿ±ŸÅ
        function updateExchangeRateSection() {
            try {
                const operationType = document.getElementById('operation-type').value;
                const exchangeRateSection = document.getElementById('exchange-rate-section');
                
                if (operationType === 'ÿ¥ÿ±ÿßÿ°' || operationType === 'ÿ®Ÿäÿπ') {
                    exchangeRateSection.style.display = 'block';
                } else {
                    exchangeRateSection.style.display = 'none';
                }
            } catch (error) {
                handleError(error, 'ÿ™ÿ≠ÿØŸäÿ´ ŸÇÿ≥ŸÖ ÿ≥ÿπÿ± ÿßŸÑÿµÿ±ŸÅ');
            }
        }

        // ÿ≠ŸÅÿ∏ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™
        function saveData() {
            try {
                localStorage.setItem('capitalData', JSON.stringify(capitalData));
                localStorage.setItem('operations', JSON.stringify(operations));
            } catch (error) {
                handleError(error, 'ÿ≠ŸÅÿ∏ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™');
            }
        }

        // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™
        function loadData() {
            try {
                const savedCapital = localStorage.getItem('capitalData');
                if (savedCapital) {
                    capitalData = JSON.parse(savedCapital);
                    document.getElementById('capital-syr').value = capitalData.SYR || 0;
                    document.getElementById('capital-usd').value = capitalData.USD || 0;
                    document.getElementById('capital-jod').value = capitalData.JOD || 0;
                    document.getElementById('capital-try').value = capitalData.TRY || 0;
                    document.getElementById('capital-kwd').value = capitalData.KWD || 0;
                    document.getElementById('capital-eur').value = capitalData.EUR || 0;
                }

                const savedOperations = localStorage.getItem('operations');
                if (savedOperations) {
                    operations = JSON.parse(savedOperations);
                }

                const savedNotifications = localStorage.getItem('notifications');
                if (savedNotifications) {
                    notifications = JSON.parse(savedNotifications);
                }
                
                loadWhatsAppSettings();
                loadExchangeRates();
                loadNotificationSettings();
                updateNotificationsList();
            } catch (error) {
                handleError(error, 'ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™');
            }
        }

        // ÿπÿ±ÿ∂ ÿßŸÑÿ±ÿ≥ÿßÿ¶ŸÑ
        function showMessage(elementId, message, type = 'success') {
            try {
                const element = document.getElementById(elementId);
                if (!element) return;

                element.innerHTML = `
                    <div class="alert alert-${type}">
                        ${message}
                    </div>
                `;

                setTimeout(() => {
                    element.innerHTML = '';
                }, 5000);
            } catch (error) {
                console.error('ÿÆÿ∑ÿ£ ŸÅŸä ÿπÿ±ÿ∂ ÿßŸÑÿ±ÿ≥ÿßŸÑÿ©:', error);
            }
        }

        // ÿπÿ±ÿ∂ ÿßŸÑÿ™ÿ®ŸàŸäÿ®ÿßÿ™
        function showTab(tabName) {
            try {
                const tabContents = document.querySelectorAll('.tab-content');
                tabContents.forEach(content => content.classList.remove('active'));
                
                const tabs = document.querySelectorAll('.tab');
                tabs.forEach(tab => tab.classList.remove('active'));

                const targetTab = document.getElementById(tabName);
                if (!targetTab) {
                    throw new Error(`ÿßŸÑÿ™ÿ®ŸàŸäÿ® ${tabName} ÿ∫Ÿäÿ± ŸÖŸàÿ¨ŸàÿØ`);
                }

                targetTab.classList.add('active');
                event.target.classList.add('active');

                if (tabName === 'operations') {
                    loadOperations();
                } else if (tabName === 'summary') {
                    updateSummary();
                } else if (tabName === 'exchange-rates') {
                    updateCurrencyEquivalents();
                } else if (tabName === 'notifications') {
                    updateNotificationsList();
                }
            } catch (error) {
                handleError(error, 'ÿπÿ±ÿ∂ ÿßŸÑÿ™ÿ®ŸàŸäÿ®');
            }
        }

        // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿµŸÅÿ≠ÿ©
        document.addEventListener('DOMContentLoaded', function() {
            try {
                loadData();
                updateSummary();
                loadOperations();
                
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('operation-date').value = today;
            } catch (error) {
                handleError(error, 'ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿµŸÅÿ≠ÿ©');
            }
        });

        // ŸÖÿπÿßŸÑÿ¨ÿ© ÿßŸÑÿ£ÿÆÿ∑ÿßÿ° ÿ∫Ÿäÿ± ÿßŸÑŸÖÿ™ŸàŸÇÿπÿ©
        window.addEventListener('error', function(event) {
            console.error('ÿÆÿ∑ÿ£ ÿ∫Ÿäÿ± ŸÖÿ™ŸàŸÇÿπ:', event.error);
            if (notificationSettings.enabled) {
                addNotification('ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ∫Ÿäÿ± ŸÖÿ™ŸàŸÇÿπ ŸÅŸä ÿßŸÑŸÜÿ∏ÿßŸÖ', 'error');
            }
        });

        // ÿ™ÿ≥ÿ¨ŸäŸÑ Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('Service Worker registered successfully:', registration.scope);
                    })
                    .catch(function(error) {
                        console.log('Service Worker registration failed:', error);
                    });
            });
        }
    </script>
</body>
</html>